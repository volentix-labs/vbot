{
	"apiVersion": "extensions/v1beta1",
	"kind": "Deployment",
	"metadata": {
		"name": "venue-deployment",
		"namespace": "venue-uat"
	},
	"spec": {
		"replicas": 1,
		"template": {
			"metadata": {
				"labels": {
					"application": "venue",
					"name": "venue",
					"version": "0.1.0"
				}
			},
			"spec": {
				"containers": [
					{
						"args": [
							"supervisord",
							"-c",
							"./supervisord.conf",
							"--nodaemon"
						],
						"command": [
							"/entrypoint.sh"
						],
						"name": "django-service",
						"image": "PLACEHOLDER",
						"ports": [
							{
								"containerPort": 8000
							},
							{
								"containerPort": 5555
							}
						],
						"env": [
							{
								"name": "POSTGRES_USER",
								"valueFrom": {
									"secretKeyRef": {
										"name": "db-credentials",
										"key": "user"
									}
								}
							},
							{
								"name": "POSTGRES_PASSWORD",
								"valueFrom": {
									"secretKeyRef": {
										"name": "db-credentials",
										"key": "password"
									}
								}
							},
							{
								"name": "POSTGRES_NAME",
								"valueFrom": {
									"secretKeyRef": {
										"name": "db-credentials",
										"key": "dbname"
									}
								}
							},
							{
								"name": "POSTGRES_HOST",
								"value": "postgres-service"
							},
							{
								"name": "VENUE_DOMAIN",
								"value": "https://venue-uat.volentix.io"
							},
							{
								"name": "VENUE_FRONTEND",
								"value": "https://venue-uat.volentix.io"
							},
							{
								"name": "REDIS_HOST",
								"valueFrom": {
									"secretKeyRef": {
										"name": "redis-credentials",
										"key": "host"
									}
								}
							},
							{
								"name": "REDIS_PASSWORD",
								"valueFrom": {
									"secretKeyRef": {
										"name": "redis-credentials",
										"key": "password"
									}
								}
							}
						]
					}
				]
			}
		}
	}
}